<template>
  <div class="min-h-screen bg-gradient-to-br from-indigo-900 to-purple-900 flex flex-col items-center justify-center p-8">
    <div class="max-w-6xl w-full bg-white/10 backdrop-blur-lg rounded-xl p-8 text-white">
      <!-- Header -->
      <div class="text-center mb-8">
        <h1 class="text-6xl font-bold mb-4">
          <span class="mr-4">üè•</span>
          <span class="text-white">Rakaton</span>
        </h1>
        <p class="text-xl text-pink-300">Multidisciplin√°rn√≠ onkologick√Ω syst√©m</p>
      </div>

      <!-- Enhanced Role-specific content -->
      <div v-if="userRole === 'doctor'" class="space-y-8">
        <h2 class="text-2xl font-semibold mb-4">V√≠tejte, doktore</h2>
        
        <!-- Main Features -->
        <div class="grid md:grid-cols-2 gap-6">
          <FeatureCard
            icon="i-heroicons-user-group"
            title="Spr√°va pacient≈Ø"
            description="P≈ô√≠stup k z√°znam≈Øm pacient≈Ø, jejich epikr√≠z√°m a modalit√°m vy≈°et≈ôen√≠"
          />
          <FeatureCard
            icon="i-heroicons-calendar"
            title="Sch≈Øzky"
            description="Pl√°nov√°n√≠ a √∫ƒçast na multidisciplin√°rn√≠ch t√Ωmov√Ωch setk√°n√≠ch"
          />
        </div>

        <!-- Detailed System Guide -->
        <div class="mt-8 space-y-6">
          <section class="bg-white/5 rounded-lg p-6">
            <h3 class="text-xl font-semibold mb-4">Pr√°ce s pacienty</h3>
            <ul class="space-y-3 list-disc list-inside">
              <li>P≈ôehled pacient≈Ø najdete v sekci "Pacienti"</li>
              <li>Pro ka≈æd√©ho pacienta m≈Ø≈æete:
                <ul class="ml-6 mt-2 space-y-2 list-circle">
                  <li>Prohl√≠≈æet a upravovat epikr√≠zu</li>
                  <li>P≈ôid√°vat v√Ωsledky vy≈°et≈ôen√≠ a modality</li>
                  <li>Sledovat historii l√©ƒçby</li>
                </ul>
              </li>
            </ul>
          </section>

          <section class="bg-white/5 rounded-lg p-6">
            <h3 class="text-xl font-semibold mb-4">Spr√°va sch≈Øzek</h3>
            <ul class="space-y-3 list-disc list-inside">
              <li>V sekci "Sch≈Øzky" m≈Ø≈æete:
                <ul class="ml-6 mt-2 space-y-2 list-circle">
                  <li>Vytv√°≈ôet nov√© sch≈Øzky multidisciplin√°rn√≠ho t√Ωmu</li>
                  <li>P≈ôid√°vat √∫ƒçastn√≠ky ze seznamu doktor≈Ø</li>
                  <li>Nahr√°vat dokumentaci k p≈ô√≠pad≈Øm</li>
                  <li>Nastavit notifikace p≈ôed zaƒç√°tkem sch≈Øzky</li>
                </ul>
              </li>
            </ul>
          </section>
        </div>
      </div>

      <div v-else-if="userRole === 'manager'" class="space-y-8">
        <h2 class="text-2xl font-semibold mb-4">Mana≈æersk√Ω p≈ôehled</h2>
        
        <div class="grid md:grid-cols-2 gap-6">
          <FeatureCard
            icon="i-heroicons-presentation-chart-line"
            title="Statistiky"
            description="P≈ôehled v√Ωkonnosti a analytick√© n√°stroje"
          />
          <FeatureCard
            icon="i-heroicons-calendar"
            title="Organizace sch≈Øzek"
            description="Spr√°va a koordinace multidisciplin√°rn√≠ch t√Ωmov√Ωch setk√°n√≠"
          />
        </div>

        <div class="mt-8 space-y-6">
          <section class="bg-white/5 rounded-lg p-6">
            <h3 class="text-xl font-semibold mb-4">Analytick√© n√°stroje</h3>
            <ul class="space-y-3 list-disc list-inside">
              <li>Sledov√°n√≠ vyt√≠≈æenosti doktor≈Ø</li>
              <li>Statistiky poƒçtu p≈ô√≠pad≈Ø</li>
              <li>P≈ôehled √∫spƒõ≈°nosti l√©ƒçby</li>
              <li>Monitoring d√©lky l√©ƒçebn√Ωch proces≈Ø</li>
            </ul>
          </section>

          <section class="bg-white/5 rounded-lg p-6">
            <h3 class="text-xl font-semibold mb-4">Koordinace t√Ωm≈Ø</h3>
            <ul class="space-y-3 list-disc list-inside">
              <li>Pl√°nov√°n√≠ multidisciplin√°rn√≠ch setk√°n√≠</li>
              <li>Spr√°va dostupnosti doktor≈Ø</li>
              <li>Optimalizace rozvrhu sch≈Øzek</li>
            </ul>
          </section>
        </div>
      </div>

      <div v-else-if="userRole === 'admin'" class="space-y-8">
        <h2 class="text-2xl font-semibold mb-4">Administr√°torsk√Ω panel</h2>
        
        <div class="grid md:grid-cols-2 gap-6">
          <FeatureCard
            icon="i-heroicons-user-plus"
            title="Spr√°va u≈æivatel≈Ø"
            description="P≈ôid√°v√°n√≠ a spr√°va doktor≈Ø a ostatn√≠ch u≈æivatel≈Ø syst√©mu"
          />
          <FeatureCard
            icon="i-heroicons-cog"
            title="Syst√©mov√° nastaven√≠"
            description="Konfigurace a √∫dr≈æba syst√©mu"
          />
        </div>

        <div class="mt-8 space-y-6">
          <section class="bg-white/5 rounded-lg p-6">
            <h3 class="text-xl font-semibold mb-4">Spr√°va u≈æivatel≈Ø</h3>
            <ul class="space-y-3 list-disc list-inside">
              <li>Vytv√°≈ôen√≠ nov√Ωch √∫ƒçt≈Ø pro doktory</li>
              <li>Spr√°va rol√≠ a opr√°vnƒõn√≠</li>
              <li>Reset hesel</li>
              <li>Deaktivace √∫ƒçt≈Ø</li>
            </ul>
          </section>

          <section class="bg-white/5 rounded-lg p-6">
            <h3 class="text-xl font-semibold mb-4">Syst√©mov√° √∫dr≈æba</h3>
            <ul class="space-y-3 list-disc list-inside">
              <li>Konfigurace syst√©mov√Ωch parametr≈Ø</li>
              <li>Spr√°va p≈ô√≠stupov√Ωch pr√°v</li>
              <li>Monitoring syst√©mu</li>
            </ul>
          </section>
        </div>
      </div>

      <div v-else-if="userRole === 'student'" class="space-y-8">
        <h2 class="text-2xl font-semibold mb-4">Vzdƒõl√°vac√≠ port√°l</h2>
        
        <div class="grid md:grid-cols-2 gap-6">
          <FeatureCard
            icon="i-heroicons-academic-cap"
            title="P≈ô√≠padov√© studie"
            description="P≈ô√≠stup k anonymizovan√Ωm p≈ô√≠pad≈Øm pro studijn√≠ √∫ƒçely"
          />
          <FeatureCard
            icon="i-heroicons-book-open"
            title="Vzdƒõl√°vac√≠ materi√°ly"
            description="Odborn√© postupy a guidelines"
          />
        </div>

        <div class="mt-8 space-y-6">
          <section class="bg-white/5 rounded-lg p-6">
            <h3 class="text-xl font-semibold mb-4">Studium p≈ô√≠pad≈Ø</h3>
            <ul class="space-y-3 list-disc list-inside">
              <li>Prohl√≠≈æen√≠ anonymizovan√Ωch p≈ô√≠pad≈Ø</li>
              <li>Anal√Ωza diagnostick√Ωch postup≈Ø</li>
              <li>Sledov√°n√≠ pr≈Øbƒõhu l√©ƒçby</li>
              <li>P≈ô√≠stup k v√Ωsledk≈Øm vy≈°et≈ôen√≠</li>
            </ul>
          </section>

          <section class="bg-white/5 rounded-lg p-6">
            <h3 class="text-xl font-semibold mb-4">Vzdƒõl√°vac√≠ materi√°ly</h3>
            <ul class="space-y-3 list-disc list-inside">
              <li>P≈ô√≠stup k odborn√Ωm postup≈Øm</li>
              <li>Studium guidelines</li>
              <li>Prohl√≠≈æen√≠ v√Ωukov√Ωch materi√°l≈Ø</li>
            </ul>
          </section>
        </div>
      </div>

      <!-- Enhanced Quick Start Guide -->
      <div class="mt-8 pt-8 border-t border-white/20">
        <h3 class="text-xl font-semibold mb-4">Rychl√Ω pr≈Øvodce syst√©mem</h3>
        <ul class="space-y-2">
          <li v-for="guide in quickGuides" :key="guide.title" class="flex items-center">
            <UIcon :name="guide.icon" class="mr-2" />
            <span>{{ guide.title }}</span>
          </li>
        </ul>
      </div>

      <!-- Support Section -->
      <div class="mt-8 pt-8 border-t border-white/20">
        <h3 class="text-xl font-semibold mb-4">Pot≈ôebujete pomoc?</h3>
        <p class="text-gray-300">
          V p≈ô√≠padƒõ technick√Ωch probl√©m≈Ø kontaktujte spr√°vce syst√©mu na:
          <a href="mailto:support@motol.cz" class="text-pink-300 hover:text-pink-400">support@motol.cz</a>
        </p>
      </div>
    </div>
  </div>
</template>

<script setup lang="ts">
const userRole = ref('')

// Component for feature cards
const FeatureCard = defineComponent({
  props: {
    icon: String,
    title: String,
    description: String
  },
  template: `
    <div class="p-6 rounded-lg bg-white/5 hover:bg-white/10 transition-colors">
      <UIcon :name="icon" class="w-8 h-8 mb-4" />
      <h3 class="text-xl font-medium mb-2">{{ title }}</h3>
      <p class="text-gray-300">{{ description }}</p>
    </div>
  `
})

// Role-specific quick guides
const quickGuides = computed(() => {
  switch (userRole.value) {
    case 'doctor':
      return [
        { icon: 'i-heroicons-user', title: 'P≈ô√≠stup k z√°znam≈Øm pacient≈Ø v sekci "Pacienti"' },
        { icon: 'i-heroicons-calendar', title: 'Pl√°nov√°n√≠ sch≈Øzek v sekci "Sch≈Øzky"' }
      ]
    case 'manager':
      return [
        { icon: 'i-heroicons-chart-bar', title: 'P≈ô√≠stup ke statistik√°m v dashboardu' },
        { icon: 'i-heroicons-users', title: 'Spr√°va t√Ωm≈Ø v sekci "T√Ωmy"' }
      ]
    case 'admin':
      return [
        { icon: 'i-heroicons-user-plus', title: 'Spr√°va doktor≈Ø v sekci "Doctors"' },
        { icon: 'i-heroicons-cog', title: 'Syst√©mov√° nastaven√≠ v administraci' }
      ]
    case 'student':
      return [
        { icon: 'i-heroicons-academic-cap', title: 'Prohl√≠≈æen√≠ p≈ô√≠pad≈Ø v sekci "Cases Preview"' },
        { icon: 'i-heroicons-book-open', title: 'P≈ô√≠stup k v√Ωukov√Ωm materi√°l≈Øm' }
      ]
    default:
      return []
  }
})

onMounted(() => {
  userRole.value = localStorage.getItem('role') || ''
})

definePageMeta({
  colorMode: "light",
})
</script>

<style scoped>
.backdrop-blur-lg {
  backdrop-filter: blur(16px);
}

.list-circle {
  list-style-type: circle;
}
</style>